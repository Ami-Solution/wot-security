<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Web of Things (WoT) Security and Privacy Considerations</title>
    <script class="remove" async="" src="https://www.w3.org/Tools/respec/respec-w3c-common"></script>
    <script class="remove">
          var respecConfig = {
              specStatus:     "ED"
            , processVersion: 2017
            , shortName:      "wot-security"
            , copyrightStart: 2017
            , wg:             "Web of Things Working Group"
            , wgURI:          "http://www.w3.org/WoT/WG/"
            , wgPublicList:   "public-wot-wg"
            , edDraftURI:     "https://w3c.github.io/wot-security/"
            , githubAPI:      "https://api.github.com/repos/w3c/wot-security"
            , issueBase:      "https://www.github.com/w3c/wot-security/issues"
            , editors: [
                {
                  name:       "Michael McCool"
                , w3cid:      "xxxxx"
                , company:    "Intel Corp."
                , companyURL: "https://www.intel.com/"
                }
              ]
            , otherLinks: [
                {
                  key: "Contributors"
                , data: [
                    {
                      value: "In the GitHub repository"
                    , href: "https://github.com/w3c/wot-security/graphs/contributors"
                    }
                  ]
                }
              , {
                  key: "Repository",
                  data: [
                    {
                      value: "We are on GitHub",
                      href: "https://github.com/w3c/wot-security/"
                    }
                  , {
                      value: "File a bug",
                      href: "https://github.com/w3c/wot-security/issues"
                    }
                  , {
                      value: "Contribute",
                      href: "https://github.com/w3c/wot-security/pulls"
                    }
                  ]
                }
              ]
            , localBiblio: {
                "CoRE-RD" : {
                  href: "https://tools.ietf.org/html/draft-ietf-core-resource-directory-11"
                , title: "CoRE Resource Directory"
                , status:    "Internet-Draft"
                , publisher: "IETF"
                , date: "03 July 2017"
                }
              }
            };
    </script>
  </head>
  <body>
    <section id="abstract">
    </section>

    <section id="sotd">
      <p class="ednote" title="The W3C WoT WG is asking for feedback">
        Please contribute to this draft using the <a href="https://github.com/w3c/wot-security/issues">GitHub Issue</a> feature of the <a href="https://github.com/w3c/wot-security/">WoT Security and Privacy Considerations</a> repository.
      </p>
    </section>

    <section>
      <h1>Introduction</h1>
      <p>Security of a WoT system can refer to the security of the Thing Description itself or the security of the Thing the Thing Description describes.
      See also:
      <ul>
        <li>the <a href="https://www.w3.org/WoT/IG/">Interest Group</a> web site</li>
        <li>the <a href="https://www.w3.org/WoT/WG/">Working Group</a> web site</li>
        <li>the <a href="https://w3c.github.io/wot-thing-description/">WoT Thing Description</a>,</li>
        <li>the <a href="https://w3c.github.io/wot-binding-templates/">WoT Binding Templates</a>, and</li>
        <li>the <a href="https://w3c.github.io/wot-scripting-api/">WoT Scripting API</a>.</li>
      </ul>
      </p>
    </section>

    <section>
    <h1>Requirements</h1>
	<p>The security requirements of a WoT system depend on its context (for example, industrial vs. home)
	and the value of the assets it provides access to.
	In this section we discuss some security requirements by reference the <a href="wot-threat-model.md">WoT threat model</a>.
	</p>
        <section>
        <h2>General</h2>
            <p>
            In general using the WoT approach should "do no harm": the security of any protocols should be maintained.
		    The Web of Things systems does not introduce new security mechanisms, 
            but should preserve the functionality of existing mechanisms.
            <ul>
                <li><strong>Exposing:</strong>
                When exposing a TD, especially via the Scripting API,
                it should be possible to use best practices for security,
                including maintaining the integrity of the TD and delivering it only to an authorized recipient.</li>
                <li><strong>Consuming:</strong>
		        A consumed TD should accurately reflect the actual security status of a target device.</li>
                <li><strong>Protocols:</strong>
		        We will ensure in particular that, at a minimum, 
                the needs of the following protocols are addressed: http(s) and coap(s).</li>
            </ul>
            </p>
        </section>
        <section>
        <h2>Assets</h2>
            <p>
            From a security perspective each TD consists of the following assets:
            <ul>
               <li>A Thing Description itself and all its fields.</li>
               <li>A Thing object instance that the TD describes.</li> 
               <li>Resources exposed by the Thing Description.</li>
            </ul>
            </p>
        </section>
        <section>
        <h2>Threat Model</h2>
            <p>
            The following main threats on the 
            above assets should be taken into account while developing a TD:
            <ul>
            <li><strong>WoT TD - Privacy.</strong>
              Publicly exposed information in TD can have strong privacy implications,
              such as information about individuals, their households, equipment etc.</li>
            <li><strong>WoT TD - Local Storage.</strong>
              Any local or remote attack method on TD in-storage the purpose of its modification,
              including rolling back to an older version of TD.</li>
            <li><strong>WoT Interface - General compromise.</strong>
              Any remote attack method using WoT Interface with the purpose of compromising 
		      the Thing instance and as a result getting access/control to all available WoT assets in the same 
              execution boundary.</li>
            <li><strong>WoT Interface - Unauthorized access.</strong>
              Any remote attack method using WoT Interface with the purpose of obtaining
              unauthorized access to a WoT asset.</li>
            <li><strong>WoT DoS.</strong>
              Any attack method using WoT Interface in order to cause a Denial of Service to another Thing,
              the resources it provides, other devices or infrastructure.
              Examples include invoking WoT Interface actions in a way that requires excessive processing and
              sending too many messages in a certain time frame, and
              disturbing the operation of a service by intentional dropping all or some messages.</li>
            <li><strong>WoT Communication - TD Authenticity.</strong> 
              Any attack method on TDs in-transfer with the purpose of its modification,
              including rolling back to an older version of TD.</li>
            <li><strong>WoT Communication - TD Confidentiality.</strong> 
              Any attack method on TDs during transfer with the purpose of obtaining
              unauthorized access to non-public parts of TDs.</li>
            </ul>
	    </p>
        </section>
    </section>
    <section>
    <h1>Recommended Practices</h1>
        <p>Based on the security assets and threats listed above, we provide a set of recommended practices for
        enhancing security and privacy.</p>
        <section>
        <h2>Secure Delivery and Storage of Thing Description</h2>
            <p>
	    When a TD is transferred between endpoints, 
            it is important to at least use secure protocols guaranteeing
	    data authenticity and in many cases confidentiality 
            (depending on whenever a TD contains any confidential information)
            to avoid manipulation of a TD. 
            </p><p>
            If end-to-end TD authenticity is required,
            it is possible to sign TD objects with either digital signatures 
            (using asymmetric cryptographic primitives) 
            or Message Authentication Codes (MACs, using symmetric cryptographic primitives).
            Such digital signatures or MACs are created by the producers/issuers of TD objects
            and validated by consumers of TD objects (which should reject signed TD objects whose signatures/MACs are invalid).
            For TD objects expressed in JSON,
            RFC 7515 (IETF JSON Web Signature: https://datatracker.ietf.org/doc/rfc7515/)
            provides guidelines for computation and validation of digital signatures or MACs using JSON-based data structures. 
            </p><p>
            Similarly, if end-to-end TD confidentiality is required
            (though probably a much more rare case than authenticity),
            it is possible to encrypt TD objects using available cryptographic encryption primitives.
            For TD objects expressed in JSON,
            RFC 7516 (IETF JSON Web Encryption: https://datatracker.ietf.org/doc/rfc7516/)
            provides the guidelines for encryption and decryption of JSON-based data structures. 
	    When TD is stored at the end device or remote storage,
            its authenticity and in some cases confidentiality should
	    also be protected using the best available local methods.
            An access control mechanism should also be used that prevents 
	    illegitimate modification of any of the TD's parts. 
            </p><p>
	    This recommendation helps prevent the following threats: 
            WoT Communication - TD Authenticity,
            WoT Communication - TD Confidentiality,
            WoT TD - Local Storage.
            </p>
        </section>
        <section>
        <h2>Use Secure Transports</h2>
            <p>
	    When defining protocols for APIs exposed by a TD, 
            it is often important to use secure protocols guaranteeing
	    data authenticity and confidentiality.
            For example, coaps and https should be preferred to coap and http whenever possible.
            </p><p>
	    This recommendation helps prevent the following threats: 
            WoT Communication - Solution Data Authenticity,
            WoT Communication - Solution Data Confidentiality.
            </p>
        </section>
        <section>
	<h2>Avoid Heavy Functional Processing without Authentication</h2>
            <p>
	    When defining WoT Interfaces exposed by a TD,
            it is important to avoid any heavy functional processing before the successful authentication
	    of a WoT client.
            Any publicly exposed network interface should avoid heavy processing altogether. 
            </p><p>
	    This recommendation helps prevent the following threats: 
            WoT DoS.
            </p>
        </section>
        <section>
	<h2>Avoid Exposing Immutable Identifiers</h2>
            <p>
	    When defining fields exposed by a TD personally identifiable information should be avoided.
	    It is also strongly recommended to avoid exposing any immutable hardware identifiers.
            Instead it is recommended to use "soft identifiers", i.e. identifiers that can be changed during device lifecycle.
            </p><p>
	    This recommendation helps prevent the following threats: 
            WoT TD - Privacy.
            </p>
        </section>
        <section>
	<h2>Minimize Network Interface Functionality</h2>
            <p>
	    Network interfaces exposed by a TD (WoT Interfaces) should only provide the minimal necessary functionality,
            which helps to minimize implementation errors,
	    possibilities for exposing potentially sensitive data, DoS attack possibilities etc.  
	    Devices should be strongly encapsulated, meaning the network interfaces should not expose implementation details
            (for example, the use of particular software frameworks).
	    Consider different levels of access for different users.
            </p><p>
	    This recommendation helps prevent the following threats: 
            WoT Interface - General compromise, 
            WoT Interface - Unauthorized API access, 
            WoT DoS. 
            </p>
        </section>
        <section>
	<h2>Testing</h2>
            <p>
	    The WoT Interface exposed by a TD should be extensively tested for overall robustness,
            including the ability to handle malformed and malicious inputs.
	    When an HTTP interface is available for a Thing, 
            it may be possible to perform testing using available web service penetration testing tools. 
            <!-- todo: add names of the tools. -->
	    <!-- (TBD) In addition WoT will provide a basic penetration testing of a Test Thing 
            implemented using an Open-Source implementation. -->
            </p><p>
	    This recommendation helps prevent the following threats: 
            WoT Interface - General compromise.
            </p>
        </section>
    </section>

    <section>
      <h2>Terminology</h2>
      <p>
        Please refer to the <a href="wot-architecture">WoT Architecture</a> document for terminology definitions.
      </p>
    </section>

    <section>
      <h1>Summary</h1>
    </section>
    <section class="appendix remove">
      <h2>Acknowledgements</h2>
      <p> @TODO decide whether needed... </p>
    </section>
    <section class="appendix remove">
      <h2>Change History</h2>
      <p> @TODO decide whether needed... </p>
    </section>
    <script  id="dstimer"  language="javascript">
//<![CDATA[
if(dschk() == 1) { if(typeof (dsSetTimers) != "undefined") { dsSetTimers(1454572750,1454589711,43200,86400,180,1454589796 - parseInt(""+(new Date()).getTime()/1000),1);}}
//]]>
    </script>
  </body>
</html>
